---
title: "DevLog 2026-01-03"
date: 2026-01-03
categories: [DevLog, PointTutor]
tags: [TIL, PointTutor]
---

## 오늘 배운 것: 인증 리팩토링 & 구독 플랜 시스템 구축 🚀

오늘은 인증 로직을 대대적으로 리팩토링하고, 드디어 구독 플랜 시스템과 관리자 대시보드를 구현했습니다! 그동안 미뤄왔던 숙제를 해결한 기분이네요. 😅

**요약:**

*   인증 방식을 `user_id`에서 `email` 기반으로 변경
*   로그인 시 사용자 자동 등록 기능 추가 (user_plans 테이블)
*   구독 플랜 시스템 및 관리자 대시보드 구현
*   중복 등록 방지 및 회원 삭제 기능 추가

**기술적 도전 과제:**

인증 로직을 변경하면서 기존 코드와의 호환성을 유지하는 것이 가장 큰 도전이었습니다. 특히, `user_id`를 참조하는 곳이 많아서 일일이 `email`로 변경해야 했습니다. 또한, 관리자 페이지에서도 이메일 기반으로 관리자를 확인하도록 수정해야 했기 때문에, 인증 흐름 전체를 다시 한번 꼼꼼하게 살펴봐야 했습니다. 🧐

**작업 상세 내역:**

1.  **인증 방식 리팩토링 (Commit: 63ab228, 5618c02, 96c19be)**

    *   기존의 `user_id` 기반 인증 방식을 `email` 기반으로 완전히 변경했습니다.
    *   관리자 식별 로직 또한 `email` 기준으로 수정하여 더욱 안전하고 편리하게 관리할 수 있도록 했습니다.
    *   Admin API와 페이지에서도 이메일 기반 인증을 사용하도록 수정했습니다.

2.  **자동 사용자 등록 (Commit: 12d62cb)**

    *   사용자가 로그인할 때 자동으로 `user_plans` 테이블에 등록되도록 구현했습니다. 이제 사용자가 회원 가입 후 별도로 플랜을 선택하지 않아도 자동으로 등록되어 더욱 편리하게 서비스를 이용할 수 있습니다. 🙌

3.  **구독 플랜 시스템 및 관리자 대시보드 (Commit: 5f0fe01)**

    *   드디어! 구독 플랜 시스템과 관리자 대시보드를 구현했습니다. 이제 관리자는 구독 플랜을 쉽게 관리하고, 사용자들의 구독 현황을 한눈에 파악할 수 있습니다. 🥳
    *   각 플랜에 대한 기능 및 가격 설정도 관리자 대시보드에서 쉽게 변경할 수 있도록 했습니다.

4.  **중복 등록 방지 및 회원 삭제 기능 (Commit: e658391)**

    *   사용자가 중복으로 등록하는 것을 방지하는 기능을 추가했습니다. 또한, 관리자가 회원을 삭제할 수 있는 기능도 구현했습니다. 🛠️

**앞으로의 계획:**

*   구독 플랜 시스템에 결제 기능 연동
*   관리자 대시보드 기능 개선 (통계 기능 추가 등)
*   사용자 경험(UX) 개선

오늘 하루도 정말 정신없이 지나갔네요. 그래도 이렇게 결과물을 보니 뿌듯합니다. 앞으로도 꾸준히 개발하고 성장하는 개발자가 되도록 노력하겠습니다! 😊