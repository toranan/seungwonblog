---
title: "AI 힌트 기능 구현 및 Gemini API 연동 삽질기 (2025-12-08 주간 개발 로그)"
date: 2025-12-08
categories: [CodeBrainer]
tags: [TIL, CodeBrainer, 주간요약]
---

# AI 힌트 기능 구현 및 Gemini API 연동 삽질기 (2025-12-08 주간 개발 로그)
이번 주는 AI를 활용한 힌트 기능 구현과 Google의 Gemini API 연동에 집중했습니다. AI 힌트 기능은 사용자에게 더욱 맞춤화된 학습 경험을 제공하고, 막힘 없이 코딩 학습을 이어갈 수 있도록 돕는 것을 목표로 합니다. Gemini API 연동 과정에서 예상치 못한 문제들을 마주치기도 했지만, 하나씩 해결하며 앞으로 나아갔습니다. 한 주간의 고군분투를 공유합니다!

## 요약

이번 주에는 다음과 같은 주요 작업을 수행했습니다.

*   **AI 힌트 기능 구현 및 프론트엔드 연동**: 사용자가 문제 해결에 어려움을 느낄 때, AI가 제공하는 힌트를 통해 문제 해결을 돕는 기능 구현
*   **Gemini API 연동**: Google의 최신 AI 모델인 Gemini API를 활용하여 힌트를 생성하고, API 버전 관련 문제 해결
*   **모의고사 기능 개선 및 버그 수정**: 사용자에게 더 나은 모의고사 환경을 제공하기 위한 기능 개선 및 버그 수정
*   **AI 리뷰 기능 개선**: 알고리즘 카테고리 추가 등 AI 리뷰 기능 강화

## 주요 작업

### ✨ AI 힌트 기능 구현 및 프론트엔드 연동

AI 힌트 기능 구현은 이번 주 핵심 과제였습니다. 프론트엔드에서 힌트 요청을 보내고, 백엔드에서 Gemini API를 활용하여 힌트를 생성하여 사용자에게 제공하는 일련의 과정을 구현했습니다.

*   **Frontend-Backend 연동**: 프론트엔드에서 `AI review`와 유사한 방식으로 API를 호출하도록 변경하여 깔끔하게 구현했습니다. (커밋: `087c197`, `7a39194`, `8f4a47d`)
*   **힌트 UI 개선**: 힌트 UI를 추가하고 API 로직을 개선하여 사용자가 힌트를 쉽게 확인할 수 있도록 했습니다. (커밋: `7a39194`)
*   **힌트 활성화/비활성화 토글**: 사용자가 필요에 따라 AI 힌트 기능을 켜고 끌 수 있도록 토글 기능을 추가했습니다. (커밋: `8f4a47d`)
*   **힌트 생성 로직 개선**: 요청 Body를 활용하여 힌트를 생성하고, 응답 처리 버그를 수정했습니다. (커밋: `a690e9f`, `60bd645`)
*   **쿨다운 기능 추가**: 힌트 버튼에 쿨다운 기능을 추가하여 남용을 방지했습니다. (커밋: `96394d9`)
*   **AI 어시스턴트 모드 롤백**: 아직 불안정한 부분을 개선하기 위해 'coming soon' 상태로 되돌렸습니다. (커밋: `d42edf4`)

### 🐛 Gemini API 연동 삽질기

Gemini API 연동 과정은 순탄치만은 않았습니다. API 버전 문제, 응답 형식 문제 등 다양한 문제들이 발생했습니다.

*   **API 버전 문제**: `v1beta`와 `v1` 버전을 오가며 404 에러를 해결하려고 노력했습니다. (커밋: `5e3aef7`, `d5df865`, `84e4615`, `bdf3479`) 현재는 `v1`으로 안정화된 상태입니다.
*   **응답 형식 문제**: Gemini API 응답을 `byte[]`로 받아 수동으로 변환하는 방식으로 문제를 해결했습니다. (커밋: `f4314b9`)
*   **API 응답 로깅 추가**: 디버깅을 위해 API 응답 로깅을 추가했습니다. (커밋: `bc0f291`)
*   **`HttpURLConnection` 직접 호출**: 라이브러리 문제로 인해 `HttpURLConnection`을 사용하여 Gemini API를 직접 호출하는 방식으로 변경했습니다. (커밋: `85cadbc`)

### ✨ 모의고사 기능 개선 및 버그 수정

사용자에게 더 나은 모의고사 환경을 제공하기 위해 다음과 같은 개선 작업을 진행했습니다.

*   **모의고사 기능 활성화 및 복구**: 일시적으로 비활성화되었던 모의고사 기능을 다시 활성화하고 시작 페이지를 복구했습니다. (커밋: `c1fcae2`, `dff3af4`)
*   **모의고사 정답 처리 로직 추가**: 모의고사 정답 처리 로직을 추가하여 사용자에게 정확한 결과를 제공할 수 있도록 했습니다. (커밋: `8b1cc03`)
*   **심화 도전 모의고사 비활성화**: 심화 도전 90분 모의고사를 일시적으로 비활성화했습니다. (커밋: `5421081`)

### ✨ AI 리뷰 기능 개선

AI 리뷰 기능에 알고리즘 카테고리를 추가하여 사용자에게 더욱 다양한 피드백을 제공할 수 있도록 개선했습니다. (커밋: `57f9b65`, `8cf5ea4`)

*   **DB에서 제출 코드 가져오도록 수정 (Revert)**: AI 리뷰가 DB에서 제출 코드를 가져오도록 수정하는 커밋을 롤백했습니다. (커밋: `d46090d`, `088630e`)

### 📝 기타 작업

*   **문서 업데이트**: README 파일을 업데이트하여 배포 정보를 추가하고 빌드 도구를 수정했습니다. (커밋: `3fa7378`)
*   **Railway 재배포 트리거**: Railway를 통해 재배포를 트리거했습니다. (커밋: `d76f23a`)
*   **HikariCP 연결 풀 설정 수정**: 데이터베이스 연결 안정성을 위해 HikariCP 연결 풀 설정을 수정했습니다. (커밋: `3ce90f2`)
*   **AI 힌트 프롬프트 개선**: 더욱 구체적이고 실행 가능한 피드백을 제공하기 위해 AI 힌트 프롬프트를 개선했습니다. (커밋: `8cd44de`)
*   **AI 힌트 디버깅**: 문제 해결을 위해 AI 힌트 프롬프트를 로깅하도록 설정했습니다. (커밋: `668eee0`)
*   **AI 힌트 문제 데이터 전달**: Storage 경로 문제를 해결하기 위해 프론트엔드에서 문제 데이터를 전달하도록 수정했습니다. (커밋: `977256f`)
*   **AI 힌트 API 호스트 수정**: AI 힌트 API 호출 시 `localhost` 대신 요청 호스트를 사용하도록 수정했습니다. (커밋: `e6b23bc`)

## 기술적 도전

*   **Gemini API 버전 호환성 문제**:  Gemini API의 다양한 버전을 사용하면서 404 에러를 해결하는 과정
*   **Gemini API 응답 처리**: Gemini API에서 반환하는 `byte[]` 형식의 응답을 제대로 처리하는 방법 모색
*   **데이터베이스 연결 안정성**: HikariCP 연결 풀 설정을 통해 데이터베이스 연결을 안정화하는 방법

## 다음 계획

*   **AI 어시스턴트 모드 안정화**: AI 힌트 기능 (AI 어시스턴트 모드)을 더욱 안정화하여 사용자에게 제공할 수 있도록 개선
*   **AI 리뷰 기능 고도화**: AI 리뷰 기능을 더욱 고도화하여 사용자에게 더 유용한 피드백을 제공
*   **Gemini API 연동 안정화**: Gemini API 연동을 더욱 안정화하고, 성능을 최적화

이번 주는 Gemini API와의 씨름으로 정신없이 지나갔지만, AI 힌트 기능 구현에 한 걸음 더 다가갈 수 있었습니다. 앞으로도 꾸준히 개발하며 사용자들에게 더 나은 학습 경험을 제공할 수 있도록 노력하겠습니다!
